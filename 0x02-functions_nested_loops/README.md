crearing nested loops and functions